function displayBarNotification(a,b,c){var d=jQuery("#nNote");a?(d.attr("class","").addClass("nNote "+b).fadeIn().html(c),setTimeout(function(){d.attr("class","").hide("slow").html("")},1e4)):d.attr("class","").hide("slow").html("")}function displayAjaxLoading(a){a?jQuery(".ajax-loading-block-window").show():jQuery(".ajax-loading-block-window").hide("slow")}function ShowPoupEditOrder(){displayAjaxLoading(!0),jQuery.get(ajaxurl,{action:"loadCartEditOrder"},function(a){jQuery.colorbox({html:a,overlayClose:!1,onClosed:function(){reload&&window.location.reload()}}),displayAjaxLoading(!1)})}function ShowPoupOrderDetail(a){displayAjaxLoading(!0),jQuery.colorbox({width:840,html:a,fixed:!0}),displayAjaxLoading(!1)}function ShowPoupCartDetail(a){displayAjaxLoading(!0),jQuery.colorbox({width:840,href:a,fixed:!0}),displayAjaxLoading(!1)}var reload=!1,paged=2,loading=!1,AjaxCart={addToCart:function(a,b,c,d,e,f){displayAjaxLoading(!0),jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"addToCart",id:a,thumb:b,title:c,price:d,quantity:e,locale:lang},success:function(a){a&&"success"==a.status&&(""==f.length?(jQuery(".cart-count").html(a.countCart),displayBarNotification(!0,"nSuccess",a.message)):setLocation(f))},error:function(){},complete:function(){displayAjaxLoading(!1)}})},deleteItem:function(a){displayAjaxLoading(!0),jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"deleteCartItem",id:a,locale:lang},success:function(b){b&&"success"==b.status?(jQuery(".cart-count").html(b.countCart),jQuery(".cart-price").html(b.totalAmount),jQuery("#product_item_"+a).remove(),displayBarNotification(!0,"nSuccess",b.message),reload=!0):"error"==b.status&&displayBarNotification(!0,"nWarning",b.message)},error:function(){},complete:function(){displayAjaxLoading(!1)}})},updateItem:function(a,b){0==b?AjaxCart.deleteItem(a):(displayAjaxLoading(!0),jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"updateCartItem",id:a,quantity:b,locale:lang},success:function(b){b&&"success"==b.status?(jQuery("#product_item_"+a+" .product-subtotal").html(b.item_amount),jQuery(".cart-price span.total_price").html(b.totalAmount),displayBarNotification(!0,"nSuccess",b.message),reload=!0):"error"==b.status&&displayBarNotification(!0,"nWarning",b.message)},error:function(){},complete:function(){displayAjaxLoading(!1)}}))},preCheckout:function(){displayAjaxLoading(!0),jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:{action:"preCheckout",locale:lang},success:function(a){a&&"success"==a.status?setLocation(checkoutUrl):"error"==a.status&&displayBarNotification(!0,"nWarning",a.message)},error:function(){},complete:function(){displayAjaxLoading(!1)}})},orderComplete:function(a){displayAjaxLoading(!0),jQuery.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:a,success:function(a){a&&"success"==a.status?(displayBarNotification(!0,"nSuccess",a.message),setTimeout(function(){setLocation(siteUrl)},1e4)):"error"==a.status?displayBarNotification(!0,"nWarning",a.message):"failure"==a.status&&displayBarNotification(!0,"nFailure",a.message)},error:function(){},complete:function(){displayAjaxLoading(!1)}})}},SendFeedback={show:function(){var a=themeUrl+"/includes/captcha.php?"+Math.random(),b='<div class="feedback_form">                    <h3 class="popupTitle">G\xf3p \xfd</h3>                    <form class="frmGeneral" action="" method="post" id="frmFeedback">                        <div class="result"></div>                        <p><input name="name" id="feedback_name" value="" class="inputText" placeholder="H\u1ecd T\xean" type="text" /></p>                        <p><input name="email" id="feedback_email" value="" class="inputText" placeholder="\u0110\u1ecba ch\u1ec9 email" type="text" /></p>                        <p><input name="phone" id="feedback_phone" value="" class="inputText" placeholder="S\u1ed1 \u0111i\u1ec7n tho\u1ea1i" type="text" /></p>                        <p><textarea rows="5" cols="5" name="content" id="feedback_content" placeholder="N\u1ed9i dung"></textarea></p>                        <p style="overflow: hidden;">                            <input style="height: 25px; width: 115px;float: left;" name="captcha" id="feedback_captcha" type="text" />                            <img src="'+a+'" alt="" height="33" width="110" class="captcha fl ml6" />                        </p>                        <p class="sendFeedback" onclick="SendFeedback.send(this);">G\u1eedi</p>                        <input type="hidden" name="action" value="sendFeedback" />                    </form>                </div>';$.colorbox({html:b,overlayClose:!1,fixed:!0})},send:function(){$(".result").attr("class","result ajax-loader").html(""),$.ajax({url:ajaxurl,type:"POST",dataType:"json",cache:!1,data:$("#frmFeedback").serialize(),success:function(a){a&&"success"==a.status?$(".result").attr("class","result nNote nSuccess").html(a.message):"error"==a.status?$(".result").attr("class","result nNote nWarning").html(a.message):"failure"==a.status&&$(".result").attr("class","result nNote nFailure").html(a.message),$("#feedback_captcha").val(""),$(".captcha").attr("src",themeUrl+"/includes/captcha.php?"+Math.random())},error:function(){},complete:function(){$(".result").removeClass("ajax-loader")}})}};jQuery(document).ready(function(a){a("#nNote").click(function(){a(this).attr("class","").hide("slow").html("")})});